<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: T</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: T</h1>

    




<section>

<header>
    
        <h2>T</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="T"><span class="type-signature"></span>new T<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>服务器端类型转换器，如转换失败则抛错，这组工具会修改 record 的值，同时具备转换和校验的功能。</p>
<p>使用方法:</p>
<pre class="prettyprint source lang-js"><code>$V(rcd,{ 
            name  : [T.string, V.notNull, V.shortest(5), V.unique('table')],
            qq      : T.number(20),
            email : [V.notNull, V.email],
            telphones : [T.array],
            tag : [T.object, T.json],        // 先将 object 从字符串转为 js 对象，再加上 $JSON() 引用 
      })</code></pre>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="d2js_validation.js.html">d2js/validation.js</a>, <a href="d2js_validation.js.html#line321">line 321</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".date"><span class="type-signature">(static) </span>date<span class="type-signature"></span></h4>




<div class="description">
    <p>检查数据为 Date 格式。如果为字符串，将先后按 JSON.parse 和 Date.parse 转换，全部失败则失败。</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="d2js_validation.js.html">d2js/validation.js</a>, <a href="d2js_validation.js.html#line439">line 439</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id=".int"><span class="type-signature">(static) </span>int<span class="type-signature"></span></h4>




<div class="description">
    <p>将数据转换为整数</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="d2js_validation.js.html">d2js/validation.js</a>, <a href="d2js_validation.js.html#line342">line 342</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id=".json"><span class="type-signature">(static) </span>json<span class="type-signature"></span></h4>




<div class="description">
    <p>将JS对象套上 $JSON() 壳，如为字符串，将试图使用 JSON.parse 转为 JS 对象</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="d2js_validation.js.html">d2js/validation.js</a>, <a href="d2js_validation.js.html#line407">line 407</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id=".jsonb"><span class="type-signature">(static) </span>jsonb<span class="type-signature"></span></h4>




<div class="description">
    <p>将JS对象套上 $JSONB() 壳，如为字符串，将试图使用 JSON.parse 转为 JS 对象</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="d2js_validation.js.html">d2js/validation.js</a>, <a href="d2js_validation.js.html#line423">line 423</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id=".object"><span class="type-signature">(static) </span>object<span class="type-signature"></span></h4>




<div class="description">
    <p>将JSON字符串转为对象，如果原本是对象则不转换。</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="d2js_validation.js.html">d2js/validation.js</a>, <a href="d2js_validation.js.html#line391">line 391</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id=".string"><span class="type-signature">(static) </span>string<span class="type-signature"></span></h4>




<div class="description">
    <p>将数据转为字符串，如为 '' 转为 null</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="d2js_validation.js.html">d2js/validation.js</a>, <a href="d2js_validation.js.html#line355">line 355</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".array"><span class="type-signature">(static) </span>array<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>将原本是数组的数据套上 <code>$ARRAY()</code> 标记，如为字符串，将试图 JSON.parse 为数组</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="d2js_validation.js.html">d2js/validation.js</a>, <a href="d2js_validation.js.html#line366">line 366</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="console.html">console</a></li><li><a href="D2JS.html">D2JS</a></li><li><a href="T.html">T</a></li><li><a href="V.html">V</a></li></ul><h3>Global</h3><ul><li><a href="global.html#$OUTP">$OUTP</a></li><li><a href="global.html#$SQL">$SQL</a></li><li><a href="global.html#$V">$V</a></li><li><a href="global.html#cond">cond</a></li><li><a href="global.html#FailedError">FailedError</a></li><li><a href="global.html#FatalError">FatalError</a></li><li><a href="global.html#includeJssp">includeJssp</a></li><li><a href="global.html#translateObject">translateObject</a></li><li><a href="global.html#ValidationError">ValidationError</a></li><li><a href="global.html#wrapJsError">wrapJsError</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Tue Feb 16 2016 03:19:12 GMT+0800 (中国标准时间)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>