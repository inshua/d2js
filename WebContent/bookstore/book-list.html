<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>书</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link href="../jslib/bootstrap-3.3.4/css/bootstrap.css" rel="stylesheet" media="screen">
	<script src="../jslib/jquery-3.2.1.js"></script>
	<script src="../jslib/bootstrap-3.3.4/js/bootstrap.min.js"></script>
	
	<script src="../jslib/date.js/Date.js"></script>
	
	<script src="../jslib/d2js/dataset.js"></script>
	<script src="../jslib/d2js/render.js"></script>
	<script src="../jslib/d2js/renderers.js"></script>
	<script src="../jslib/d2js/pipelines.js"></script>
	<script src="../jslib/d2js/collector.js"></script>

</head>
<body>
	<div class="container">
		<div data="#book,rows" renderer="repeater">
			<div data="#book,error" renderer="stderr"></div>
			<h1>Books</h1>
			<hr>
			<div class="row">
			  <div class="col-xs-6 col-md-3" repeater="true" data="this" renderer="expr">
			  	<h3>{{title}}<small>{{author_name}}</small></h3>
			  	<p>{{remarks || '(没有详细说明)'}}</p>
			  	<section class="text-right">{{publish_date.format('yyyy-MM-dd')}}出版</section>
			  	<button class="btn btn-primary">购买</button>
			  </div>
			</div>
			
			<nav class="text-center">
				<ul class="pagination" data="#book" renderer="pagination">
				</ul>
			</nav>
		</div>
	</div>
</body>
<script>

	var books = new d2js.DataTable('book', 'book.d2js', {pageSize : 5 /* 默认 10 */});
	books.load({_m : 'fetch'}, function(){d2js.render();})

	
</script>
</html>